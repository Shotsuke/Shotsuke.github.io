---
title: '计算机网络：自顶向下方法 阅读笔记 <Computer Networking: A Top-Down Approach>'
date: 2024-10-22 18:25:00
categories: "Course Notes"
tags: Note
excerpt: 《计算机网络：自顶向下方法》阅读笔记，还不都是期中考期末考逼出来的。使用第八版。
---

# 1 计算机网络和因特网、

## 1.1 什么是因特网

- **终端系统**
  - 主机
  - 运行使用因特网的服务
- **通信链路**
- **分组交换机**
  - 路由器
  - 链路层交换机
- **因特网服务提供商**
  - 你说得对，从NJU WLAN接入

## 1.2 网络边缘

如端系统、客户、服务器、数据中心等。

## 1.3 网络核心

即由互联因特网端系统的分组交换机和链路构成的网状网络。

**分组交换**
- **存储转发传输**：交换机开始向输出链路传输该分组的第一个比特之前，必须接收到整个分组。
- **排队时延**和**分组丢失**：如果到达的分组需要传输的链路正忙，就需要承受**排队时延**。而受限于有限的缓存大小，如果到达时队列已满，将出现**分组丢失（丢包）**。
- **转发表**和**路由选择协议**：每台路由器具有一个**转发表**，将目前地址映射为输出链路。路由器检查该地址并选择合适的出链路。

**电路交换**
传统电话，创建专用的端到端连接。

- **频分复用**：在连接期间链路为每条连接专设一个频段，如无线电台。
- **时分复用**：实践划分为固定时段的帧，网络在每个帧中为该连接指定一个时隙。如老电话。

趋势向分组交换而非电路交换。

## 1.4 分组交换网中的时延、丢包和吞吐量

- **单台路由器上的时延**
  - 节点处理时延：检查分组的头部和决定该分组导向何处。
  - 排队时延：在链路上排队等待传输  。
    - 流量强度：`分组到达速率 * 平均大小 / 传输速率`，必须小于1。
    - 一旦流量强度大于1，将导致无限大的排队时延（假设容量无穷），或者一大堆丢包。
  - 传输时延：将分组中的所有比特推向链路（实际上占比最大）。
  - 传播时延：取决于链路种类（光纤等）。
- **端到端时延**
  - 将路径上的所有路由器的时延相总和。
- **吞吐量**：接收者主机接收到文件的速率（bps）。
  - 瓶颈链路：路径上所有路由器中传输速度最慢的。

## 1.5 协议层次和服务模型

该课程使用如下模型：
- 应用层
- 运输层
- 网络层
- 链路层

**封装**
- 网络应用产生**应用层报文（application-layer message）**传送给运输层。
- 运输层收取报文并附上附加信息（允许接收端运输层向上向适当的应用程序交付报文，差错位检测等），生成**运输层报文段（transport-layer segment）**，这就是一层封装，然后向网络层传输该报文段。
- 网络层收取报文段，增加系统地址等信息，生成**网络层数据报（network-layer datagram）**，传递给链路层。
- 链路层增加自己的首部信息生成**链路层帧（link-layer frame）**。
- 最后通过物理层（电线等）传递给链路层交换机。

# 2. 应用层

## 2.1 网络应用原理

- 客户-服务器体系结构
  - 有一个总是打开的主机称为服务器
  - Web, FTP, Telnel, mail
- 对等（P2P）体系结构
  - 每台主机既是客户也是服务器

客户通过**套接字（socket）**的软件接口向网络发送报文和从网络接收报文。

运输服务四个方面：
- 可靠数据传输
  - 确保应用程序的一段发送的数据正确完全地交付
- 吞吐量
  - 带宽敏感的应用具有一定的吞吐量要求
- 定时
- 安全性

运输服务：
- **TCP**
  - 面向连接：三次握手，同时收发报文
  - 可靠的数据传输服务
- **UDP**
  - 无连接
  - 不可靠的数据传输

## 2.2 Web和HTTP

### 2.2.1 HTTP

**HTTP(HyperText Transfer Protocol)超文本传输协议**，定义了Web客户向Web服务器请求Web页面的方式，以及服务器向客户传送Web页面的方式。

HTTP使用TCP作为支撑运输协议。HTTP是一个**无状态协议**，其服务器不保存关于客户端任何信息（但是有Cookie）。

**非持续连接和持续连接**
- 非持续连接：每个请求/响应是经一个单独的TCP连接发送
- 持续连接：所有的请求机器响应经相同的TCP连接发送

**往返时间RTT**：指一个短分组从客户端到服务器然后再返回客户所花费的时间。发起连接-收到回复产生一个RTT，请求文件-收到文件产生一个RTT + 文件传输时间。